{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Esqueci minha senha</title>
    <link rel="stylesheet" href="{% static 'css/estilo.css' %}" />
  </head>
  <body class="auth-page">
    <div class="auth-card">
      <div class="auth-right">
        <div class="auth-logo">Gerenciador de Dívidas e Financiamentos</div>
        <h1 class="auth-title">Esqueci minha senha</h1>
        <p class="auth-subtitle">
          Informe seu nome de usuário ou e-mail. Vamos gerar uma senha temporária.
        </p>

        {% if erro %}
          <p style="color:#fecaca; font-size:0.9rem; margin-bottom:10px;">
            {{ erro }}
          </p>
        {% endif %}

        <form method="post" class="auth-form">
          {% csrf_token %}
          <div class="form-group">
            <label for="id_identificador">Usuário ou e-mail</label>
            <input
              type="text"
              name="identificador"
              id="id_identificador"
              required
            />
          </div>

          <button type="submit" class="auth-btn-main">Gerar nova senha</button>
        </form>

        {% if nova_senha %}
          <div class="card" style="margin-top:20px;">
            <p>Sua senha temporária é:</p>
            <p
              style="
                font-family: monospace;
                font-size: 1.2rem;
                background: #020617;
                padding: 8px 10px;
                border-radius: 8px;
                display:inline-block;
                margin: 8px 0;
              "
            >
              {{ nova_senha }}
            </p>
            <p style="font-size:0.85rem; color:#9ca3af;">
              Use essa senha como <strong>senha atual</strong> na próxima tela e defina uma nova senha segura.
            </p>

            <a href="{% url 'contas:trocar_senha' %}" class="auth-btn-main" style="text-align:center; display:inline-block; margin-top:8px;">
              Trocar senha agora
            </a>
          </div>
        {% endif %}

        <div class="auth-footer">
          © 2025 Gerenciador de Dívidas e Financiamentos – Todos os direitos
          reservados.
        </div>
      </div>
    </div>
  </body>
</html>